# stm32-modbus-rtu-485
modbus rtu 485协议采用的是一主多从方式通信，我用的主机是普中的stm32f103zet6开发板（这坑爹玩意儿烧录程序必须要用他们专属的程序烧录软件才行，我已经放在文件夹了），从机是传感器。代码已经在实物上测试通过，并且也用modbus精灵测试通过了，

如果你没有stm32基础的话，建议先去B站搜索“正点原子”了解一下485串口通信协议，然后就是到“正点原子”的官方论坛搜一下modbus通信的相关文章，看看大佬们的设计，一定会非常有收获！不过更重要的是你要去了解一下这个modbus的通信协议，具体的话已经放到上一个文件夹里面了，自己找找呀。


划重点：
1、读寄存器功能码统一用03；
2、采用设备地址寻址方式实现功能；
3、轮询读值。
4、使用开发板前注意看你的板子有没有485芯片，如果没有的话需要你用485转TTL模块连接板子和传感器。

报错！注意事项：
1、串口通信只显示FF或者别的乱码，说明你的传感器供电不足，建议大家使用升压模块单独给传感器供电；
2、编译如果出错，首先看看自己的晶振、芯片、头文件引用路径有没有选对；
3、如果你要设新的设备地址或者新的功能码实现功能的话，记得要重新计算CRC校准值喔，算法自行百度吧。
4、如果没报错，但是实现不出你想要的结果，请优先考虑多用printf测试。

“这是我自学的内容，不建议你做伸手档喔，如果实在不能不能理解modbus协议的话，可以参考一下我这个代码，毕竟我已经把注释写的很详细了，当然，那些太基础的我就不写了。”

谢谢你那么耐心地读完了我写的内容，欢迎你来和我讨论代码优化的问题。
